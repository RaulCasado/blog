---
// filepath: /home/raul/Escritorio/web-freelance/my-theme/src/pages/index.astro
import { defaultLanguage } from '../i18n/ui';

// Get browser language
const getLanguageFromBrowser = () => {
  if (Astro.request.headers.get('accept-language')) {
    const browserLang = Astro.request.headers.get('accept-language').split(',')[0].split('-')[0];
    return browserLang === 'en' ? 'en' : defaultLanguage;
  }
  return defaultLanguage;
};

const lang = getLanguageFromBrowser();
---
<meta http-equiv="refresh" content={`0;url=/${lang}/`} />